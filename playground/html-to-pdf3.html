<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css" />
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css" />
    <script src="html2canvas.min.js"></script>
    <script src="loader.js"></script>
    <script>
      requireSync([
        "../src/jquery.js",
        "../src/kendo.dataviz.drawing.js"
      ]);
    </script>

    <script src="./pako.min.js"></script>

    <script>
        kendo.PDF.defineFont({
            "Verdana"             : "./Verdana/Verdana.ttf",
            "Verdana|Bold"        : "./Verdana/Verdana_Bold.ttf",
            "Verdana|Bold|Italic" : "./Verdana/Verdana_Bold_Italic.ttf",
            "Verdana|Italic"      : "./Verdana/Verdana_Italic.ttf"
        });
    </script>

    <style>
      body {
        margin: 0; padding: 1em;
        font-size: 12px;
        font-family: Verdana;
      }
      .k-widget, button {
        font-family: Verdana !important;
      }

      .test {
        background-image: url("./images/4.jpg");
        background-repeat: no-repeat;
        background-position: 50% 50%;
        background-color: rgba(255, 255, 100, 0.8);
        background-origin: border-box;

        border-width: 25px 5px 15px 5px;
        border-radius: 10px 60px 35px 50px;
        border-top-left-radius: 20px 40px;
        border-bottom-right-radius: 50px 25px;
        border-color: rgba(255, 0, 0, 0.5) rgba(0, 255, 0, 0.5) rgba(0, 0, 255, 0.5) rgba(0, 0, 0, 0.5);
        border-style: solid;
        padding: 1em;
        margin: 1em;
        color: #000;
        box-sizing: border-box;
        transform: rotate(5deg);
        text-align: justify;
      }

      .test span {
        border: 1px solid #ff0;
        background: rgba(255, 255, 255, 0.55);
      }
      .test span b {
        background: #c22;
        color: rgba(255, 255, 50, 0.8);
      }

      li {
        background-color: green;
      }
    </style>
  </head>
  <body>

    Kendo:
    <button onclick="pdf('#test1')">PDF</button>
    <button onclick="draw('#test1', 'svg')">SVG</button>
    <button onclick="draw('#test1', 'canvas')">Canvas</button>
    |
    <button onclick="h2c('#test1')">html2canvas</button>
    <div id="test1" style="padding: 2em">

      <!-- <img src="images/4.jpg" width="200px" -->
      <!--      style="margin-left: 1em; -->
      <!--             border: 2px solid black; -->
      <!--             padding: 5px; -->
      <!--             position: absolute; -->
      <!--             z-index: 5; -->
      <!--             opacity: 0.7; -->
      <!--             transform: rotate(15deg); -->
      <!--             left: 10px; -->
      <!--             border-radius: 20px; -->
      <!--             background: yellow;" /> -->

      <img src="images/4.jpg" width="200px"
           style="margin-left: 1em;
                  border: 5px solid black;
                  border-width: 1px 5px 2px 5px;
                  padding: 5px;
                  position: absolute;
                  top: 400px;
                  z-index: 0;
                  opacity: 0.5;
                  transform: rotate(-15deg);
                  left: 100px;
                  border-radius: 15px;
                  box-shadow: 0 0 35px #0f0;
                  border-top-left-radius: 120px 80px;
                  border-bottom-right-radius: 60px 40px;
                  background: yellow;" />

      <div style="width: 30em; font: 14px/24px verdana; position: relative; z-index: 10; direction: ltr; text-indent: 4em" class="test">
        <span>
          This is a <u style="color: red">nonsensical</u> <strike style="color: green">document, but syntactically</strike> valid HTML 4.0. All
          100% conformant CSS1 agents should be able to render the document
          elements above this paragraph <b>indistinguishably</b> (to the pixel)
          from this reference rendering, (except font rasterization and form
          widgets). All discrepancies should be traceable to CSS1 implementation
          shortcomings. Once you have finished evaluating this test, you can
          return to the <A HREF="sec5526c.htm"
          style="text-decoration:none">parent page</A>.
        </span>
      </div>

      <h1><u>Underline</u> <strike>line-through</strike></h1>

      <div style="width: 500px; height: 100px; padding: 10px; overflow: hidden; border: 1px solid black; position: relative; border-radius: 30px;">
        Opacity: <b>broken</b>; border-radius: <b>broken</b><br /> CSS
        transforms: <b>broken</b>.  Shape A: translate by -origin, apply
        transform, render element.  Shape B: translate by +origin, append A.
        Return B.<br />
        <b>â‚¬</b>
        <div style="position: absolute; right: -50px; top: 50px; width: 100px; height: 100px; background: yellow; border: 1px solid red; clip: rect(10px, 50px, 150px, 10px)">
          Implement clipping!
        </div>
      </div>
      <ul>
        <li>Render</li>
        <li>List</li>
        <li>Bullets</li>
        <li>Or numbers</li>
      </ul>
      <div style="width: 200px; height: 200px; border: 1px solid black; border-radius: 50px;
                  background: url('./diagram/Generic/telerik-logo.png') repeat 50% 50%"></div>
    </div>

    <script>
      function container() {
        $(".surface").remove();
        return $("<div class='surface' style='position: absolute; background: white; right: 1em; top: 1em; bottom: 1em; border: 1px solid #000; width: 600px'></div>").appendTo(document.body);
      }

      function draw(sel, type) {
        var el = $(sel)[0];
        console.time("drawing");
        kendo.dataviz.drawing.drawDOM(el, function(root){
          console.timeEnd("drawing");
          var surface = kendo.dataviz.drawing.Surface.create(container(), { type: type || "svg" });
          surface.draw(root);
        });
      }

      function pdf(sel) {
        var el = $(sel)[0];
        console.time("pdf");
        kendo.dataviz.drawing.drawDOM(el, function(root){
          kendo.dataviz.drawing.pdf.toDataURL(root, function(url){
            console.timeEnd("pdf");
            window.open(url);
          });
        });
      }

      function h2c(sel) {
        html2canvas($(sel)[0]).then(function(canvas){
          container().append(canvas);
        });
      }
    </script>

  </body>
</html>
