<div id="example" class="k-content">
    <div class="chart-wrapper">
    <h2>Website optimization stats</h2>
        <div id="before"></div>
        <div id="after"></div>
    </div>
    <style scoped>
        .chart-wrapper {
            height: 400px;
        }
        .chart-wrapper h2 {
            padding: 20px 0 0 25px;
        }
        .chart-wrapper .k-chart {
            display: inline-block;
            width: 290px;
            height: 350px;
            margin: 0 30px 0 20px;
        }
    </style>
    <script>
        var dataBefore = [{
            description: "All Visitors",
            visitors: 23945
        }, {
            description: "Tried the Demos",
            visitors: 19156
        }, {
            description: "Downloaded",
            visitors: 13984
        }, {
            description: "Requested a Quote",
            visitors: 3216
        }, {
            description: "Purchased",
            visitors: 1673
        }];

        var dataAfter = [{
            description: "All Visitors",
            visitors: 28536
        },{
            description: "Tried the Demos",
            visitors: 26539
        },{
            description: "Downloaded",
            visitors: 23088
        },{
            description: "Requested a Quote",
            visitors: 13853
        },{
            description: "Purchased",
            visitors: 9697
        }];

        function createChart(chartName, data,description) {
            $("#"+chartName).kendoChart({
                title: {
                    text: description,
                    align: "left",
                    margin: {
                        top: 10,
                        bottom: 10,
                        left: -5
                    }
                },
                legend: {
                    visible: false
                },
                dataSource: {
                    data: data
                },
                series: [{
                    type: "funnel",
                    dynamicSlope:true,
                    field: "visitors",
                    categoryField: "description",
                    dynamicHeight : false,
                    labels: {
                        color:"black",
                        visible: true,
                        background: "transparent",
                        template: "#= dataItem.description #: #= value#",
                        align: "left"
                    }
                }],
                tooltip: {
                    visible: true,
                    template: "#= dataItem.description # #= kendo.format('{0:p}',data.value/dataItem.parent()[0].visitors)#"
                }
            });
        }

        function createCharts() {
            createChart("before", dataBefore, "Before optimization");
            createChart("after", dataAfter, "After optimization");
        }

        $(document).ready(createCharts);
        $(document).bind("kendo:skinChange", createCharts);
    </script>
</div>
