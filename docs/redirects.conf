##
# Permanent redirects
##
rewrite ^/KENDO-UI/?(.*)$
         /kendo-ui/$1
         permanent;

rewrite ^/kendo-ui/$
         /kendo-ui/introduction
         permanent;

rewrite ^/kendo-ui/api/wrappers/(.*)$
         /kendo-ui/api/$1
         permanent;

rewrite ^/kendo-ui/api/web/(.*)$
         /kendo-ui/api/javascript/ui/$1
         permanent;

rewrite ^/kendo-ui/api/mobile/application$
         /kendo-ui/api/javascript/mobile/application
         permanent;

rewrite ^/kendo-ui/api/mobile/(.*)$
         /kendo-ui/api/javascript/mobile/ui/$1
         permanent;

rewrite ^/kendo-ui/api/framework/fx/(.*)$
         /kendo-ui/api/javascript/effects/$1
         permanent;

rewrite /kendo-ui/api/framework/widget
        /kendo-ui/api/javascript/ui/widget
        permanent;

rewrite ^/kendo-ui/api/framework/(class|color|kendo|layout|observable|router|view)$
         /kendo-ui/api/javascript/$1
         permanent;

rewrite ^/kendo-ui/api/framework/(binder|datasource|ganttdatasource|ganttdependency|ganttdependencydatasource|gantttask|hierarchicaldatasource|model|node|observablearray|observableobject|pivotdatasource|schedulerdatasource|schedulerevent)$
         /kendo-ui/api/javascript/data/$1
         permanent;

rewrite ^/kendo-ui/api/(?:javascript/)?dataviz/(barcode|chart|diagram|lineargauge|map|qrcode|radialgauge|sparkline|stock-chart|treemap)$
         /kendo-ui/api/javascript/dataviz/ui/$1
         permanent;

rewrite ^/kendo-ui/api/dataviz/(.*)$
         /kendo-ui/api/javascript/dataviz/$1
         permanent;

rewrite ^/kendo-ui/api/javascript/drawing/$
         /kendo-ui/api/javascript/drawing/arc
         permanent;

rewrite ^/kendo-ui/api/javascript/dataviz/drawing/(.*)$
         /kendo-ui/api/javascript/drawing/$1
         permanent;

rewrite ^/kendo-ui/api/javascript/geometry/$
         /kendo-ui/api/javascript/geometry/arc
         permanent;

rewrite ^/kendo-ui/api/javascript/dataviz/geometry/(.*)$
         /kendo-ui/api/javascript/geometry/$1
         permanent;

rewrite ^/kendo-ui/web/styles-and-layout/(.*)$
         /kendo-ui/styles-and-layout/$1
         permanent;

rewrite ^/kendo-ui/web/(grid|listview|pivotgrid|spreadsheet|treelist)/(.*)$
         /kendo-ui/controls/data-management/$1/$2
         permanent;

rewrite ^/kendo-ui/web/(autocomplete|colorpicker|combobox|datepicker|datetimepicker|dropdownlist|editor|maskedtextbox|multiselect|numerictextbox|rangeslider|slider|timepicker|upload)/(.*)$
         /kendo-ui/controls/editors/$1/$2
         permanent;

rewrite ^/kendo-ui/dataviz/chart/(.*)$
         /kendo-ui/controls/charts/$1
         permanent;

rewrite ^/kendo-ui/dataviz/(sparkline|treemap|stockchart)/(.*)$
         /kendo-ui/controls/charts/$1/$2
         permanent;

rewrite ^/kendo-ui/dataviz/(lineargauge|radialgauge)/(.*)$
         /kendo-ui/controls/gauges/$1/$2
         permanent;

rewrite ^kendo-ui/bootstrapper
         https://github.com/kendo-labs/kendo-bootstrapper
         permanent;

rewrite ^kendo-ui/getting-started/bootstrapper
         https://github.com/kendo-labs/kendo-bootstrapper
         permanent;

rewrite ^/kendo-ui/dataviz/(diagram|map)/(.*)$
         /kendo-ui/controls/diagrams-and-maps/$1/$2
         permanent;

rewrite ^/kendo-ui/dataviz/(barcode|qrcode)/(.*)$
         /kendo-ui/controls/barcodes/$1/$2
         permanent;

rewrite ^/kendo-ui/web/(calendar|gantt|scheduler)/(.*)$
         /kendo-ui/controls/scheduling/$1/$2
         permanent;

rewrite ^/kendo-ui/web/(notification|responsivepanel|splitter|tooltip|window)/(.*)$
         /kendo-ui/controls/layout/$1/$2
         permanent;

rewrite ^/kendo-ui/web/(button|menu|panelbar|tabstrip|toolbar|treeview)/(.*)$
         /kendo-ui/controls/navigation/$1/$2
         permanent;

rewrite ^/kendo-ui/framework/(draganddrop|fx)/(.*)$
         /kendo-ui/controls/interactivity/$1/$2
         permanent;

rewrite ^/kendo-ui/web/(progressbar|sortable)/(.*)$
         /kendo-ui/controls/interactivity/$1/$2
         permanent;

rewrite ^/kendo-ui/mobile/(.*)$
         /kendo-ui/controls/hybrid/$1
         permanent;

rewrite ^/kendo-ui/webforms/(.*)$
         /kendo-ui/third-party/tutorials/webforms/$1
         permanent;

rewrite ^/kendo-ui/dataviz/drawing/(.*)$
         /kendo-ui/framework/drawing/$1
         permanent;

rewrite ^/kendo-ui/framework/drawing/how-to/custom-page-layout$
         /kendo-ui/web/grid/how-to/pdf-export/custom-page-layout
         permanent;

rewrite ^/kendo-ui/tutorials/accessibility/(.*)$
         /kendo-ui/accessibility/$1
         permanent;

rewrite ^/kendo-ui/getting-started/web/mediaplayer/overview$
         /kendo-ui/controls/media/mediaplayer/overview
         permanent;

rewrite ^/kendo-ui/getting-started/web/dialog/overview$
         /kendo-ui/controls/layout/dialog/overview
         permanent;

rewrite ^/kendo-ui/getting-started/(.*)$
         /kendo-ui/$1
         permanent;

rewrite ^/kendo-ui/using-kendo-with/(.*)$
         /kendo-ui/$1
         permanent;

rewrite ^/kendo-ui/jsp/tags/(map|responsivepanel|sparkline|spreadsheet|treemap)/overview
        /kendo-ui/jsp/introduction
        permanent;

rewrite ^/kendo-ui/using-kendo-with/jsp/tags/(map|responsivepanel|sparkline|spreadsheet|treemap)/overview
        /kendo-ui/jsp/introduction
        permanent;

rewrite ^/kendo-ui/php/tags/(map|responsivepanel|spreadsheet|treemap)/overview
        /kendo-ui/php/introduction
        permanent;

rewrite ^/kendo-ui/using-kendo-with/php/widgets/(map|responsivepanel|spreadsheet|treemap)/overview
        /kendo-ui/php/introduction
        permanent;

rewrite ^/kendo-ui/api/javascript/ui/(datasource|dataSource)
        /kendo-ui/api/javascript/data/datasource
        permanent;

rewrite /kendo-ui/api/javascript/ui/AutoComplete
        /kendo-ui/api/javascript/ui/autocomplete
        permanent;

rewrite /kendo-ui/api/javascript/ui/Editor
        /kendo-ui/api/javascript/ui/editor
        permanent;

rewrite /kendo-ui/controls/scheduling/scheduler/Overview
        /kendo-ui/controls/scheduling/scheduler/overview
        permanent;

rewrite /kendo-ui/api/javascript/ui/RangeSlider
        /kendo-ui/api/javascript/ui/rangeslider
        permanent;

rewrite /kendo-ui/api/javascript/ui/Splitter
        /kendo-ui/api/javascript/ui/splitter
        permanent;

rewrite /kendo-ui/api/javascript/ui/TreeView
        /kendo-ui/api/javascript/ui/treeview
        permanent;

rewrite /kendo-ui/documentation/api/framework/datasource
        /kendo-ui/api/javascript/data/datasource
        permanent;

rewrite /kendo-ui/api/framework/validator
        /kendo-ui/api/javascript/ui/validator
        permanent;

rewrite /kendo-ui/controls/data-management/grid/introduction
        /kendo-ui/controls/data-management/grid/overview
        permanent;

rewrite /kendo-ui/api/javascript/mobile/ui/ButtonGroup
        /kendo-ui/api/javascript/mobile/ui/buttongroup
        permanent;

rewrite /kendo-ui/api/javascript/mobile/ui/TabStrip
        /kendo-ui/api/javascript/mobile/ui/tabstrip
        permanent;

rewrite /kendo-ui/styles-and-layout/performance-tips
        /kendo-ui/controls/charts/troubleshoot/performance-tips
        permanent;

rewrite /kendo-ui/controls/data-management/spreadsheet/import-and-export-data/overview
        /kendo-ui/controls/data-management/spreadsheet/import-and-export-data/json
        permanent;

rewrite ^/kendo-ui/(.*)/hybrid/(buttongroup|switch)/?$
        /kendo-ui/$1/hybrid/$2/$2
        permanent;

rewrite ^/kendo-ui/(.*)/hybrid/scrollview/?$
        /kendo-ui/$1/hybrid/scrollview/overview
        permanent;

rewrite /kendo-ui/api/jsp/stock-chart
        /kendo-ui/api/jsp/stockChart
        permanent;

rewrite ^/kendo-ui/api/javascript/dataviz/ui/stockchart/?$
        /kendo-ui/api/javascript/dataviz/ui/stock-chart
        permanent;

rewrite ^/kendo-ui/api/php/kendo/ui/barcode/?$
         /kendo-ui/api/php/Kendo/Dataviz/UI/Barcode
         permanent;

rewrite ^/kendo-ui/api/php/kendo/ui/diagram/?$
         /kendo-ui/api/php/Kendo/Dataviz/UI/Barcode
         permanent;

rewrite ^/kendo-ui/api/php/kendo/ui/lineargauge/?$
         /kendo-ui/api/php/Kendo/Dataviz/UI/LinearGauge
         permanent;

rewrite ^/kendo-ui/tutorials/asp.net/kendo-music-store/(.*)$
        /kendo-ui/aspnet-mvc/tutorial-kendo-music-store/$1
        permanent;

rewrite ^/kendo-ui/aspnet-mvc/mvc-6/(.*)$
        /kendo-ui/aspnet-mvc/mvc-core/$1
        permanent;

rewrite ^/kendo-ui/aspnet-mvc/(tutorial-kendo-music-store|tutorial-saleshub)/(.*)$
        /kendo-ui/aspnet-mvc/tutorials/$1/$2
        permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/excel/(.*)$
        /kendo-ui/aspnet-mvc/helpers/grid/how-to/export/$1
        permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(custom-row-styles-based-on-data|use-groupheadertemplate-foreignkeycolumn)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/appearance/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(ajax-bound-grid-custom-json-result|bind-to-collection-of-dynamic-objects|grid-bind-to-datatable|grid-bound-to-signalr|grid-hierarchy-with-dynamic-model-loading-and-datatable|grid-self-referencing-hierarchy|handling-unauthorized-requests|oData-v4-web-api-controller)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/binding/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(access-current-model-in-popup|apply-dates-that-ignore-timezones|edit-batch-mode-mutliselect-delete|edit-radio-button-templates-incell-mode|post-grid-with-form|save-all-changes-with-one-request|update-using-timestamp|utc-time-on-both-server-and-client)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/editing/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(csv-export-server-side|pdf-export-server-side)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/export/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(get-all-filters-recursively-modify-servre-side|use-multiselect-filter)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/filtering/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(grid-reorder-rows-using-sortable|render-byte-base64-show-preview-window|use-grid-with-colorpicker|use-grid-with-contextmenu)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/integration/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(post-grid-selection-to-server)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/selection/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/how-to/(grid-preserve-server-toolbar-template-after-set-options|save-state-with-url-browser-history-api)
       /kendo-ui/aspnet-mvc/helpers/grid/how-to/state/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/(rqcode|sparkline)/overview
       /kendo-ui/aspnet-mvc/introduction
       permanent;

rewrite ^/kendo-ui/using-kendo-with/aspnet-mvc/helpers/(rqcode|sparkline)/overview
       /kendo-ui/aspnet-mvc/introduction
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/responsivepanel/mvc-responsivepanel-overview
       /kendo-ui/aspnet-mvc/introduction
       permanent;

rewrite ^/kendo-ui/using-kendo-with/aspnet-mvc/helpers/responsivepanel/mvc-responsivepanel-overview
       /kendo-ui/aspnet-mvc/introduction
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/helpers/grid/troubleshooting
       /kendo-ui/aspnet-mvc/helpers/grid/troubleshoot/troubleshooting
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/mvc-core/?(.*)$
       /aspnet-core/$1
       permanent;

rewrite ^/kendo-ui/aspnet-mvc/?(.*)$
       /aspnet-mvc/$1
       permanent;

rewrite ^/kendo-ui/api/aspnet-mvc/?(.*)$
       /aspnet-mvc/api/$1
       permanent;

##
# Permanent redirects for moved topics
##
{% for page in site.redirect_pages %}
{%   for redirect in page.previous_url %}
rewrite  ^/kendo-ui/{{ redirect | remove_first: '/' }}$
         /kendo-ui/{{ page.url | remove_first: '/' | replace: '.html', '' }}
         permanent;
{%   endfor %}
{% endfor %}

##
# Temporary redirects for moved directories
##
{% for directory in site.redirect_directories %}
rewrite ^/kendo-ui/{{ directory.path }}/?$
         /kendo-ui/{{ directory.url }}
         redirect;
{% endfor %}
