<!DOCTYPE dom>
<html>
    <head>
        <title>kendo.ui.MobileNavBar Tests</title>
        <script src="../jquery-loader.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../kendo-test-helpers.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.fx.js"></script>
        <script src="../../src/kendo.mobile.navbar.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
    </head>
    <body>
        <h1 id="qunit-header">kendo.mobile.ui.NavBar Tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>

        <script>

            var NavBar = kendo.mobile.ui.NavBar,
                MOUSEDOWN = kendo.support.mousedown,
                MOUSEUP = kendo.support.mouseup;
            module("Navbar", {
                setup: function() {
                    kendo.ns = "kendo-";
                }
            });

            test("applies css class", function() {
                var dom = $("<div/>");
                var bar = new NavBar(dom);
                ok(bar.element.hasClass("km-navbar"), "has specified CSS class");
            });

            test("moves items based on data-kendo-align attributes", function() {
                var dom = $('<div><div data-kendo-align="left" id="foo"/><div data-kendo-align="right" id="bar" /></div>');

                var bar = new NavBar(dom);

                var leftContainer = dom.children(".km-leftitem")[0];
                var rightContainer = dom.children(".km-rightitem")[0];

                ok(leftContainer, "creates left container");
                equal(dom.find("#foo").parent()[0], leftContainer, "moves left aligned item to the container");

                ok(rightContainer, "creates right container");
                equal(dom.find("#bar").parent()[0], rightContainer, "moves right aligned item to the container");
            });

            test("sets title to element with view-title data attribute", function() {
                var dom = $('<div><span data-kendo-role="view-title"></span></div>');
                var bar = new NavBar(dom);
                bar.title("foo");
                equal(dom.find("[data-kendo-role=view-title]").text(), "foo");
            });
        </script>
    </body>
</html>
