<!DOCTYPE html>
<html>
    <script src="../../../src/jquery.js"></script>
    <script type="text/javascript" src="../../qunit/qunit/qunit.js"></script>
    <script type="text/javascript" src="../../qunit-runner.js"></script>
    <script type="text/javascript" src="../../jquery.mockjax.js"></script>
    <script src="../../../src/kendo.core.js"></script>
    <script src="../../../src/kendo.model.js"></script>
    <script src="../../../src/kendo.data.js"></script>
    <script src="../../../src/kendo.binder.js"></script>
    <link rel="stylesheet" href="../../qunit/qunit/qunit.css" type="text/css" />

    <body>
        <h1 id="qunit-header">QUnit example</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <script>
            module("datasource", {

            });

            test("triggers change when observable array changes", 1, function() {
                var data = new kendo.ObservableArray([1, 2, 3]);
                var dataSource = kendo.data.DataSource.create(data);

                dataSource.bind("change", function(){
                    ok("change is triggered");
                });

                data.push(4);
            });

            test("passes added items in the event parameter", 1, function() {
                var data = new kendo.ObservableArray([1, 2, 3]);
                var dataSource = kendo.data.DataSource.create(data);

                dataSource.bind("change", function(e){
                    equal(e.items[0], 4);
                });

                data.push(4);
            });
        </script>
    </body>
</html>
