<!DOCTYPE html>
<html>
  <head>
    <title>Color tools tests</title>
    <script src="test-scripts.js"></script>
  </head>
  <body>
    <h1 id="qunit-header">Color tools</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
    <ul id="log"></ul>

    <div id="x"></div>

    <script>
        module("Color tools", {
            setup: function() {
                cp = $("#x").kendoColorSelectorPalette().data("kendoColorSelectorPalette");
            },
            teardown: function() {
                x.innerHTML = "";
            }
        });

        test("Simple color selector renders aria-label for each color", function(){
            cp.element.find("li.k-item").each(function(){
                var label = $(this).attr("aria-label");
                ok(label, "aria-label defined on LI elements"); // label defined
                var bg = $(this).find("div");
                var color = kendo.Color.parse(label);
                bg = kendo.Color.parse(bg.css("background-color"));
                ok(color && bg && color.equals(bg), "aria-label is same as background color");
            });
        });

        test("Simple color selector maintains aria-selected attribute consistent with selection", function(){
            var items = cp.element.find("li.k-item");
            for (var i = 0; i < 5; ++i) {
                var index = Math.floor(items.length * Math.random());
                var li = $(items[index]);
                li.click();
                var a = cp.element.find("li[aria-selected]");
                ok(a.length == 1 && a[0] === li[0]);
            }
        });
    </script>
  </body>
</html>
